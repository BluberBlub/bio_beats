---
import BaseLayout from "../../layouts/BaseLayout.astro";
import FestivalDirectory from "../../components/react/FestivalDirectory";
import { festivals } from "../../data/festivals";
import { getTranslations } from "../../i18n";

const t = getTranslations("de");

const pageTitle = "Festival Guide — BIO BEATS";
const pageDescription =
    "Entdecke elektronische Musikfestivals mit BIO BEATS Künstlern weltweit.";

// Prepare festival data for React component
const festivalsData = festivals.map((f) => ({
    id: f.id,
    name: f.name,
    slug: f.slug,
    location: f.location,
    country: f.country,
    date: f.date,
    type: f.type,
    image: f.image,
    capacity: f.capacity,
    artistSlugs: f.artistSlugs,
}));
---

<BaseLayout title={pageTitle} description={pageDescription}>
    <!-- Header -->
    <section class="py-16 bg-gradient-to-b from-bio-gray-900 to-bio-black">
        <div class="container-wide">
            <div class="max-w-3xl">
                <h1 class="text-bio-white mb-4">Festival Guide</h1>
                <p class="text-xl text-bio-gray-400">
                    Entdecke elektronische Musikfestivals mit BIO BEATS
                    Künstlern weltweit.
                </p>
            </div>
        </div>
    </section>

    <!-- Festivals Directory with Filters -->
    <section class="section bg-bio-black">
        <div class="container-wide">
            <FestivalDirectory
                client:only="react"
                festivals={festivalsData}
                lang="de"
            />
        </div>
    </section>

    <!-- Submit Festival CTA -->
    <section class="py-16 bg-bio-gray-900">
        <div class="container-narrow text-center">
            <h2 class="text-2xl md:text-3xl font-bold text-bio-white mb-4">
                Fehlt dein Festival?
            </h2>
            <p class="text-bio-gray-400 mb-8">
                Reiche dein Festival ein, um in unserem Guide gelistet zu
                werden.
            </p>
            <a href="/de/contact" class="btn-primary"> Festival einreichen </a>
        </div>
    </section>
</BaseLayout>
