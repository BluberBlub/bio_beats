---
export const prerender = true;
import BaseLayout from "../layouts/BaseLayout.astro";
import FestivalDirectory from "../components/react/FestivalDirectory";
import { festivals } from "../data/festivals";

const pageTitle = "Festival Guide â€” BIO BEATS";
const pageDescription =
  "Discover electronic music festivals worldwide with the BIO BEATS festival guide.";

// Prepare festival data for React component
const festivalsData = festivals.map((f) => ({
  id: f.id,
  name: f.name,
  slug: f.slug,
  location: f.location,
  country: f.country,
  date: f.date,
  type: f.type,
  image: f.image,
  capacity: f.capacity,
  artistSlugs: f.artistSlugs,
}));
---

<BaseLayout title={pageTitle} description={pageDescription}>
  <!-- Header -->
  <section class="py-16 bg-gradient-to-b from-bio-gray-900 to-bio-black">
    <div class="container-wide">
      <div class="max-w-3xl">
        <h1 class="text-bio-white mb-4">Festival Guide</h1>
        <p class="text-xl text-bio-gray-400">
          Discover electronic music festivals around the world. Find your next
          adventure and connect with the global music community.
        </p>
      </div>
    </div>
  </section>

  <!-- Festivals Directory with Filters -->
  <section class="section bg-bio-black">
    <div class="container-wide">
      <FestivalDirectory
        client:only="react"
        festivals={festivalsData}
        lang="en"
      />
    </div>
  </section>

  <!-- Submit Festival CTA -->
  <section class="py-16 bg-bio-gray-900">
    <div class="container-narrow text-center">
      <h2 class="text-2xl md:text-3xl font-bold text-bio-white mb-4">
        Is your festival missing?
      </h2>
      <p class="text-bio-gray-400 mb-8">
        Submit your festival to be listed in our guide.
      </p>
      <a href="/contact" class="btn-primary"> Submit Festival </a>
    </div>
  </section>
</BaseLayout>
